{"version":3,"sources":["webpack:///./src/pages/Login.vue","webpack:///./src/composition/login.js","webpack:///./src/pages/Login.vue?4e71","webpack:///./src/components/Button.vue","webpack:///./src/components/Button.vue?cee3","webpack:///./src/composition/useToast.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/pages/Login.vue?8f0c"],"names":["page-default-back-link","show-menu-button","ignore-history","size","class","slot","icon","Icon","mail","position","clear-input","required","type","inputmode","Fields","email","ErrorMessages","text","key","name","password","showPassword","eyeOff","eye","color","enterOutline","isLoading","loading","loginUser","redirectToRecoveryPassword","useToast","openToast","redirectToHome","redirectTo","userLogin","userCredentials","data","this","$store","dispatch","then","response","userType","anyCustomParams","customParams","Promise","resolve","catch","reject","components","Button","IonInput","IonRow","IonCol","IonItem","IonLabel","IonIcon","IonText","setup","login","router","logIn","methods","validateFields","emitter","emit","finally","valid","push","render","__scopeId","expand","disabled","fill","download","href","to","redirectToRoute","iconOnly","hasIcon","ios","iosIcon","md","mdIcon","spinnerName","IonButton","IonSpinner","IonRippleEffect","props","String","default","Boolean","computed","message","duration","toastController","create","toast","present","toObject","toAbsoluteIndex","toLength","module","exports","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","$","addToUnscopables","target","proto"],"mappings":"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","file":"js/chunk-dd25e068.2bddf971.js","sourcesContent":["<template>\n  <base-layout\n    page-default-back-link=\"/home\"\n    :show-menu-button=\"false\"\n    :ignore-history=\"true\"\n  >\n    <ion-row>\n      <!-- <ion-col size=\"12\">\n        <ion-img\n          class=\"mx-auto w-75 mb-4\"\n          src=\"assets/icon/logo.png\"\n        />\n      </ion-col> -->\n      <ion-col size=\"12\">\n        <ion-item class=\"d-flex align-items-end\">\n          <ion-icon slot=\"start\" class=\"mr-2\" :icon=\"Icon.mail\"></ion-icon>\n          <ion-label position=\"floating\">Email</ion-label>\n          <ion-input\n            clear-input\n            required\n            type=\"email\"\n            inputmode=\"email\"\n            v-model=\"Fields.email\"\n            @input=\"ErrorMessages.email = ''\"\n          ></ion-input>\n        </ion-item>\n        <error-message :text=\"ErrorMessages.email\" />\n      </ion-col>\n      <ion-col size=\"12\">\n        <ion-item class=\"d-flex align-items-end\">\n          <ion-icon slot=\"start\" class=\"mr-2\" :icon=\"Icon.key\"></ion-icon>\n          <ion-label position=\"floating\">Password</ion-label>\n          <ion-input\n            required\n            name=\"password\"\n            clear-input\n            v-model=\"Fields.password\"\n            :type=\"showPassword ? 'text' : 'password'\"\n            @input=\"ErrorMessages.password = ''\"\n          ></ion-input>\n          <ion-icon\n            slot=\"end\"\n            class=\"mr-2\"\n            :icon=\"showPassword ? Icon.eyeOff : Icon.eye\"\n            @click=\"showPassword = !showPassword\"\n          ></ion-icon>\n        </ion-item>\n        <error-message :text=\"ErrorMessages.password\" />\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"mt-3\">\n      <ion-col size=\"12\">\n        <Button\n          color=\"primary\"\n          text=\"Login\"\n          :icon=\"Icon.enterOutline\"\n          :isLoading=\"loading\"\n          @click=\"loginUser()\"\n        />\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"ion-text-center\">\n      <ion-col size=\"12\">\n        <ion-text color=\"tertiary\" @click=\"redirectToRecoveryPassword()\">\n          Forgot password?\n        </ion-text>\n      </ion-col>\n    </ion-row>\n  </base-layout>\n</template>\n\n<script>\nimport {\n  enterOutline, mail, key, logIn, eye, eyeOff,\n} from 'ionicons/icons';\n\nimport {\n  IonInput,\n  IonRow,\n  IonCol,\n  IonItem,\n  IonLabel,\n  IonIcon,\n  IonText,\n} from '@ionic/vue';\n\nimport { mapActions } from 'vuex';\n\nimport { useRouter } from 'vue-router';\nimport { ref } from 'vue';\n\nimport Button from '../components/Button.vue';\nimport useToast from '../composition/useToast';\nimport login from '../composition/login';\n\nexport default {\n  name: 'Login',\n  components: {\n    Button,\n    IonInput,\n    IonRow,\n    IonCol,\n    IonItem,\n    IonLabel,\n    IonIcon,\n    IonText,\n  },\n  setup() {\n    const { openToast } = useToast();\n    const { userLogin } = login();\n    const router = useRouter();\n\n    const showPassword = ref(false);\n\n    const Icon = ref({\n      mail,\n      key,\n      eye,\n      eyeOff,\n      logIn,\n      enterOutline,\n    });\n\n    const Fields = ref({\n      email: '',\n      password: '',\n    });\n\n    const ErrorMessages = ref({\n      email: '',\n      password: '',\n    });\n\n    const loading = ref(false);\n\n    return {\n      ErrorMessages,\n      openToast,\n      userLogin,\n      loading,\n      router,\n      Fields,\n      Icon,\n      showPassword,\n    };\n  },\n  methods: {\n    ...mapActions('login', ['login']),\n    loginUser() {\n      if (!this.validateFields()) {\n        return;\n      }\n\n      this.loading = true;\n\n      this.userLogin(this.Fields)\n        .then(() => {\n          this.emitter.emit('logged');\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    validateFields() {\n      let valid = true;\n\n      if (!this.Fields.email) {\n        this.ErrorMessages.email = 'Email invalid';\n        valid = false;\n      }\n\n      if (!this.Fields.password) {\n        this.ErrorMessages.password = 'Password invalid';\n        valid = false;\n      }\n\n      return valid;\n    },\n    redirectToRecoveryPassword() {\n      this.router.push({ name: 'recovery-password' });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.facebook-button .button-native {\n  --background: var(--facebook-blue);\n}\n</style>\n","import redirectToHome from './redirectToHome';\nimport useToast from './useToast';\n\nexport default function () {\n  const { openToast } = useToast();\n  const { redirectTo } = redirectToHome();\n\n  async function userLogin(userCredentials) {\n    const data = {\n      email: userCredentials.email,\n      password: userCredentials.password,\n    };\n\n    return this.$store.dispatch('login/login', data)\n      .then((response) => {\n        openToast('Logged with sucess', 'success', 'top');\n\n        redirectTo(\n          response.data.userType,\n          { anyCustomParams: response.customParams },\n          true,\n        );\n\n        return Promise.resolve();\n      })\n      .catch(() => {\n        openToast('Something was wrong on login', 'danger', 'top');\n        Promise.reject();\n      });\n  }\n\n  return {\n    userLogin,\n    openToast,\n    redirectTo,\n  };\n}\n","import { render } from \"./Login.vue?vue&type=template&id=5262a7aa&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5262a7aa&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5262a7aa\"\n\nexport default script","<template>\n  <ion-button\n    class=\"d-flex align-items-center justify-content-center ion-activatable ripple-parent\"\n    :color=\"color\"\n    :expand=\"expand\"\n    :size=\"size\"\n    :disabled=\"isLoading\"\n    :fill=\"fill\"\n    :download=\"download\"\n    :href=\"href\"\n    @click=\"!!to && redirectToRoute()\"\n  >\n    <ion-label v-if=\"text && !iconOnly\" :class=\"[hasIcon ? 'ml-2' : '']\">{{ text }}</ion-label>\n    <ion-icon\n      v-if=\"hasIcon\"\n      :slot=\"iconOnly ? 'icon-only' : 'start'\"\n      :ios=\"iosIcon || icon\"\n      :md=\"mdIcon || icon\"\n    ></ion-icon>\n    <ion-spinner\n      slot=\"end\"\n      :class=\"iconOnly ? '' : 'ion-margin-start'\"\n      :name=\"spinnerName\"\n      v-if=\"isLoading\"\n    ></ion-spinner>\n    <ion-ripple-effect type=\"unbounded\"></ion-ripple-effect>\n  </ion-button>\n</template>\n\n<script>\nimport {\n  IonButton,\n  IonLabel,\n  IonIcon,\n  IonSpinner,\n  IonRippleEffect,\n} from '@ionic/vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'Button',\n  components: {\n    IonButton,\n    IonLabel,\n    IonIcon,\n    IonSpinner,\n    IonRippleEffect,\n  },\n  props: {\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    text: {\n      type: String,\n      required: false,\n    },\n    expand: {\n      type: String,\n      default: 'block',\n    },\n    size: {\n      type: String,\n      default: 'medium',\n    },\n    icon: {\n      default: null,\n      required: false,\n    },\n    iosIcon: {\n      default: null,\n      required: false,\n    },\n    mdIcon: {\n      default: null,\n      required: false,\n    },\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n    spinnerName: {\n      type: String,\n      default: 'crescent',\n    },\n    iconOnly: {\n      type: Boolean,\n      default: false,\n    },\n    fill: {\n      type: String,\n      default: 'solid',\n    },\n    to: {\n      required: false,\n    },\n    download: {\n      type: Boolean,\n      default: false,\n    },\n    href: {\n      type: String,\n      required: false,\n    },\n  },\n  computed: {\n    hasIcon() {\n      return (this.icon || this.iosIcon || this.mdIcon);\n    },\n  },\n  setup() {\n    const router = useRouter();\n\n    return { router };\n  },\n  methods: {\n    redirectToRoute() {\n      if (!this.to) {\n        return;\n      }\n\n      this.router.push(this.to);\n    },\n  },\n};\n</script>\n","import { render } from \"./Button.vue?vue&type=template&id=7e7ef78d\"\nimport script from \"./Button.vue?vue&type=script&lang=js\"\nexport * from \"./Button.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { toastController } from '@ionic/vue';\n\nexport default function () {\n  /**\n   * Shows a notification\n   * @param {string} message \n   * @param {string} color \n   * @param {string} position \n   * @param {number} duration \n   * @returns \n   */\n  async function openToast(message, color, position = 'top', duration = 3000) {\n    const toast = await toastController.create({\n      message,\n      position,\n      color,\n      duration,\n    });\n\n    return toast.present();\n  }\n\n  return {\n    openToast,\n  };\n}\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=5262a7aa&scoped=true&lang=css\""],"sourceRoot":""}